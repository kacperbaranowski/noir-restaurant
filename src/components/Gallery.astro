---
const galleryItems = [
  {
    image: 'https://images.unsplash.com/photo-1546039907-7fa05f864c02?w=600&q=80',
    title: 'Polędwica Wołowa',
    category: 'Danie główne'
  },
  {
    image: 'https://images.unsplash.com/photo-1551024506-0bccd828d307?w=600&q=80',
    title: 'Deser Czekoladowy',
    category: 'Słodkości'
  },
  {
    image: 'https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=600&q=80',
    title: 'Kompozycja Warzywna',
    category: 'Przystawki'
  },
  {
    image: 'https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?w=600&q=80',
    title: 'Owoce Morza',
    category: 'Specjalność szefa'
  },
  {
    image: 'https://images.unsplash.com/photo-1567620905732-2d1ec7ab7445?w=600&q=80',
    title: 'Risotto Truflowe',
    category: 'Pasta'
  },
  {
    image: 'https://images.unsplash.com/photo-1540189549336-e6e99c3679fe?w=600&q=80',
    title: 'Sałatka Śródziemnomorska',
    category: 'Przystawki'
  }
];

// Duplicate for infinite scroll effect
const allItems = [...galleryItems, ...galleryItems];
---

<section id="galeria" class="py-24 lg:py-40 overflow-hidden">
  <div class="px-6 lg:px-16 mb-12 lg:mb-24">
    <h2 class="reveal font-[family-name:var(--font-display)] text-[clamp(2.5rem,8vw,6rem)] font-light">
      Galeria
    </h2>
  </div>

  <!-- Mobile: Horizontal scroll -->
  <div class="lg:hidden overflow-x-auto scrollbar-hide px-6 -mx-6">
    <div class="flex gap-4 pb-4" style="width: max-content;">
      {galleryItems.map((item) => (
        <div class="gallery-item flex-shrink-0 w-[280px] h-[350px] relative overflow-hidden">
          <img
            src={item.image}
            alt={item.title}
            loading="lazy"
            class="w-full h-full object-cover"
          />
          <div class="absolute bottom-0 left-0 w-full p-6 bg-gradient-to-t from-black/80 to-transparent">
            <h4 class="font-[family-name:var(--font-display)] text-xl font-normal mb-1">
              {item.title}
            </h4>
            <p class="font-[family-name:var(--font-body)] text-xs text-[var(--color-text-muted)]">
              {item.category}
            </p>
          </div>
        </div>
      ))}
    </div>
  </div>

  <!-- Desktop: Marquee animation -->
  <div class="hidden lg:block">
    <div class="gallery-marquee">
      {allItems.map((item) => (
        <div class="gallery-item flex-shrink-0 w-[500px] h-[600px] relative overflow-hidden cursor-pointer">
          <img
            src={item.image}
            alt={item.title}
            loading="lazy"
            class="w-full h-full object-cover transition-transform duration-700"
          />
          <div class="gallery-item-overlay absolute bottom-0 left-0 w-full p-12 bg-gradient-to-t from-black/80 to-transparent">
            <h4 class="font-[family-name:var(--font-display)] text-2xl font-normal mb-2">
              {item.title}
            </h4>
            <p class="font-[family-name:var(--font-body)] text-sm text-[var(--color-text-muted)]">
              {item.category}
            </p>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
</style>
